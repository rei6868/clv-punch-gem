name: Office Check-in Reminder
on:
  workflow_dispatch: # Cho ph√©p ch·∫°y th·ªß c√¥ng
  schedule:
    # Ch·∫°y l√∫c 1:00 UTC (8:00 S√°ng VN) - Th·ª© 2, Th·ª© 5, Th·ª© 6
    - cron: '0 1 * * 1,4,5'

jobs:
  send-reminder:
    name: Send Office Reminder
    runs-on: ubuntu-latest
    timeout-minutes: 1

    steps:
      - name: 1. Send Google Chat Notification
        run: |
          curl -X POST -H 'Content-Type: application/json' \
          '${{ secrets.GOOGLE_CHAT_WEBHOOK_URL }}' \
          -d '{ "cardsV2": [ { "cardId": "reminder-card", "card": { "header": { "title": "üè¢ Nh·∫Øc nh·ªü Check-in", "subtitle": "H√¥m nay l√† ng√†y l√™n vƒÉn ph√≤ng!", "imageUrl": "https://i.imgur.com/qS5tW0C.png", "imageType": "CIRCLE" }, "sections": [ { "widgets": [ { "textParagraph": { "text": "ƒê·ª´ng qu√™n ch·∫•m c√¥ng t·∫°i vƒÉn ph√≤ng nh√©." } } ] } ] } } ] }'
        env:
          GOOGLE_CHAT_WEBHOOK_URL: ${{ secrets.GOOGLE_CHAT_WEBHOOK_URL }}